# Progress Log for bootstralph
# Started: 2026-01-17T21:48:21+01:00

## 2026-01-17 - impl-013: Implement Expo scaffolder wrapper

### Completed
- Created `src/scaffolders/expo.ts` with full Expo scaffolding support
- Wraps `create-expo-stack@latest` CLI with bootstralph-specific configurations
- Supports Expo Router and React Navigation for routing
- Supports Uniwind (with NativeWind fallback + migration), NativeWind, Tamagui, Unistyles, and StyleSheets for styling
- Integrates with mobile backends: Supabase (with AsyncStorage), Convex (convex-react-native), Firebase (@react-native-firebase)
- Auth support: Clerk (@clerk/clerk-expo), better-auth (@better-auth/expo), Supabase Auth
- E2E testing: Maestro (with flow setup) and Detox (with config and example tests)
- Deployment: EAS Build configuration generation
- Pre-commit hooks: Lefthook, Husky, prek support
- Linting/Formatting: oxlint, Biome, ESLint, oxfmt, Prettier
- Environment template generation with EXPO_PUBLIC_ prefix convention

### Technical Details
- Uses Jest preset for unit testing (jest-expo)
- Creates test setup with @testing-library/react-native
- Generates Maestro flows in `.maestro/` directory
- Generates Detox configuration in `.detoxrc.js`
- Supabase client uses AsyncStorage for session persistence
- Uniwind migration swaps nativewind for uniwind post-scaffold

### Type check: PASSED

## 2026-01-17 - impl-014: Implement React Native CLI scaffolder wrapper

### Completed
- Created `src/scaffolders/rn-cli.ts` with full React Native CLI scaffolding support
- Wraps `npx @react-native-community/cli init` with bootstralph-specific configurations
- Prerequisite checking: Detects Xcode (macOS) and Android SDK installation
- Displays prerequisite warning with option to switch to Expo if tools missing
- React Navigation setup: @react-navigation/native + @react-navigation/native-stack
- Creates navigation structure with RootNavigator and example HomeScreen
- Styling support: Uniwind, NativeWind, Tamagui, StyleSheets
- Integrates with mobile backends: Supabase (with AsyncStorage), Convex (convex-react-native), Firebase (@react-native-firebase)
- Auth support: Clerk, better-auth (@better-auth/react-native), Supabase Auth
- E2E testing: Maestro (with flow setup) and Detox (with config and example tests)
- Deployment: Fastlane configuration generation with iOS/Android lanes
- Pre-commit hooks: Lefthook, Husky, prek support
- Linting/Formatting: oxlint, Biome, ESLint, oxfmt, Prettier
- Environment template generation

### Technical Details
- Uses Jest preset for unit testing (react-native preset)
- Creates test setup with @testing-library/react-native
- Generates Maestro flows in `.maestro/` directory
- Generates Detox configuration in `.detoxrc.js` with project-specific paths
- Fastlane Fastfile with build_dev, build_prod, and beta lanes for iOS/Android
- Supabase client uses AsyncStorage for session persistence
- Uniwind setup includes tailwind.config.js and babel.config.js updates
- NativeWind v4 setup includes metro.config.js with withNativeWind wrapper
- Tamagui setup includes tamagui.config.ts and react-native-reanimated plugin

### Type check: PASSED

## 2026-01-17 - impl-015: Implement React Router v7 scaffolder wrapper

### Completed
- Created `src/scaffolders/react-router.ts` with full React Router v7 (Framework Mode) scaffolding support
- Wraps `npx create-react-router@latest` (successor to Remix v2) with bootstralph-specific configurations
- Uses Vite for bundling (built-in to React Router v7)
- Tailwind CSS setup with @tailwindcss/vite plugin and tailwind.config.ts
- shadcn/ui setup with components.json and cn() utility helper
- State management: Zustand, Jotai, TanStack Query support
- ORM support: Drizzle (edge-compatible with @libsql/client or @neondatabase/serverless), Prisma
- Backend integrations: Supabase (@supabase/ssr), Convex, Firebase
- Auth support: better-auth, Clerk (@clerk/react-router), Supabase Auth
- Testing: Vitest (unit) with vite-tsconfig-paths, Playwright (e2e)
- Pre-commit hooks: Lefthook (YAML config), Husky (with lint-staged ESM config)
- Linting: oxlint, Biome, ESLint support
- Formatting: oxfmt, Biome, Prettier support
- Environment template generation with VITE_ prefix convention

### Technical Details
- Uses `~/` alias convention for imports (React Router v7 standard)
- Generates Vitest config at project root with app/** test inclusion
- Playwright configured for port 5173 (Vite default)
- Drizzle schema stored in app/db/ directory
- Supabase client provides both browser and server client helpers for loaders/actions
- Convex provider created in app/providers/ directory
- Husky config creates ESM lint-staged.config.js (not .cjs) for ESM projects
- Lefthook config includes stage_fixed: true for auto-staging fixed files

### Type check: PASSED

## 2026-01-17 - impl-016: Implement Astro scaffolder wrapper

### Completed
- Created `src/scaffolders/astro.ts` with full Astro scaffolding support
- Wraps `npm create astro@latest` CLI with bootstralph-specific configurations
- Uses Vite for bundling (Astro's default)
- File-based routing (Astro's built-in routing system)
- Styling: Tailwind CSS (via `astro add tailwind`), vanilla CSS
- React islands support via `astro add react` for interactive components
- MDX support via `astro add mdx` for content-rich pages
- Deployment adapters: Vercel, Netlify, Cloudflare (via `astro add`)
- ORM support: Drizzle (edge-compatible with @libsql/client or @neondatabase/serverless), Prisma
- Backend integrations: Supabase, Convex (via React islands with ConvexProvider), Firebase
- Auth support: better-auth (native Astro integration with middleware), Clerk (@clerk/astro with server-side middleware), Supabase Auth
- Testing: Vitest (unit with Astro's getViteConfig helper), Playwright (e2e)
- Pre-commit hooks: Lefthook (YAML config), Husky (with lint-staged ESM config), prek
- Linting: oxlint, Biome, ESLint support
- Formatting: oxfmt, Biome, Prettier (with prettier-plugin-astro)
- Environment template generation with PUBLIC_ prefix convention (Astro standard)

### Technical Details
- Uses `--template basics --yes --no-git --typescript strict` for non-interactive scaffold
- Generates Vitest config using Astro's `getViteConfig` helper for proper integration
- Playwright configured for port 4321 (Astro default dev server port)
- Drizzle schema stored in src/db/ directory
- Convex setup creates ConvexProvider in src/components/ for use in React islands
- better-auth setup creates auth.ts in src/lib/ and API route at pages/api/auth/[...all].ts
- Clerk setup creates middleware.ts for server-side auth protection
- Content Collections support: generates config.ts with blog collection and example MDX post
- Supabase client uses `import.meta.env` for environment variables

### Type check: PASSED

## 2026-01-17 - impl-017: Implement Hono/Elysia API template

### Completed
- Created `src/scaffolders/api.ts` with full API scaffolding support for both Hono and Elysia
- Wraps `npm create hono@latest` and `bun create elysia` with bootstralph-specific configurations
- Framework choice: Hono (edge-first, multi-runtime) or Elysia (Bun-native, TypeScript-first)
- Hono template selection based on deployment target: cloudflare-workers, vercel, netlify, nodejs, bun
- ORM support: Drizzle (with edge-compatible drivers), Prisma (with adapter for Cloudflare)
- Auth support: better-auth with framework-specific handler setup (Hono routes, Elysia plugin)
- Testing: Vitest with framework-appropriate test examples (Hono request API, Elysia Eden client)
- Deployment: Cloudflare Workers, Vercel, Netlify, Fly.io, Railway, Render
- Pre-commit hooks: Lefthook (YAML config), Husky (with lint-staged ESM config)
- Linting: oxlint, Biome, ESLint support
- Formatting: oxfmt, Biome, Prettier support
- Environment template generation with deployment-specific variables

### Technical Details
- Hono scaffolding uses `npm create hono@latest` with template selection based on deployment
- Elysia scaffolding always uses `bun create elysia` (Bun-native framework)
- Drizzle setup: SQLite/D1 for Cloudflare, PostgreSQL via Neon for other deployments
- Prisma setup: Uses @prisma/adapter-libsql for Cloudflare edge compatibility
- better-auth integration: Creates auth config with database adapter + framework-specific handler
- Hono handler mounts better-auth at /api/auth/* routes
- Elysia handler creates plugin with prefix '/api/auth'
- Vitest configured for Node.js environment with coverage via v8 provider
- Cloudflare deployments include wrangler as dev dependency for local dev and deployment

### Type check: PASSED
